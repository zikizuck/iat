{"ast":null,"code":"var _jsxFileName = \"/Users/thezucks/netcraft/test-excel/src/CreatePost/CreatePost.js\";\nimport React, { Component } from 'react';\nimport { Button } from 'react-bootstrap';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport postModel from '../models/post.model';\nimport './CreatePost.scss';\nimport { faCloudUploadAlt, faShare } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport TagsInput from 'react-tagsinput';\n\nclass CreatePost extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tags: []\n    };\n  }\n\n  handleTagsChange(tags) {\n    this.setState({\n      tags: tags\n    });\n  }\n\n  convertToFormData(values) {\n    const data = new FormData();\n\n    for (let key in values) {\n      Array.isArray(values[key]) ? values[key].forEach(value => data.append(key + '[]', value)) : data.append(key, values[key]);\n    }\n\n    return data;\n  }\n\n  submit(values) {\n    const formData = this.convertToFormData(values);\n    fetch('./db.json', {\n      method: 'POST',\n      body: formData\n    }).then(res => res.json()).then(post => console.log(post)).catch(err => console.log(err));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"CreatePost\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"Create Post\"), React.createElement(Formik, {\n      initialValues: {\n        image: '',\n        title: '',\n        tags: []\n      },\n      validationSchema: postModel,\n      onSubmit: this.submit.bind(this),\n      render: ({\n        setFieldValue\n      }) => {\n        return React.createElement(Form, {\n          className: \"col-xs-12 col-md-6\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"row form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"file\",\n          name: \"image\",\n          id: \"image\",\n          onChange: event => {\n            setFieldValue('image', event.currentTarget.files[0]);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }), React.createElement(\"label\", {\n          htmlFor: \"image\",\n          className: \"upload-button\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, React.createElement(FontAwesomeIcon, {\n          icon: faCloudUploadAlt,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }), \"Select an image\")), React.createElement(\"div\", {\n          className: \"container-fluid row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, React.createElement(ErrorMessage, {\n          className: \"alert alert-danger mt-2\",\n          name: \"image\",\n          component: \"div\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"row form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, \"Title:\"), React.createElement(Field, {\n          as: \"textarea\",\n          name: \"title\",\n          className: \"form-control\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }), React.createElement(ErrorMessage, {\n          className: \"alert alert-danger mt-2\",\n          name: \"title\",\n          component: \"div\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"row form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, \"Tags:\"), React.createElement(TagsInput, {\n          value: this.state.tags,\n          onChange: tags => {\n            this.handleTagsChange(tags);\n            setFieldValue('tags', tags);\n          },\n          className: \"tags-wrapper\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }), React.createElement(ErrorMessage, {\n          className: \"alert alert-danger mt-2\",\n          name: \"tags\",\n          component: \"div\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, React.createElement(\"sub\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, \"Press Enter after inserting a tag\"))), React.createElement(\"div\", {\n          className: \"row form-group d-flex justify-content-end\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, React.createElement(Button, {\n          type: \"submit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, React.createElement(FontAwesomeIcon, {\n          icon: faShare,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }), \"\\xA0 Share\")));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default CreatePost;","map":{"version":3,"sources":["/Users/thezucks/netcraft/test-excel/src/CreatePost/CreatePost.js"],"names":["React","Component","Button","Formik","Form","Field","ErrorMessage","postModel","faCloudUploadAlt","faShare","FontAwesomeIcon","TagsInput","CreatePost","constructor","props","state","tags","handleTagsChange","setState","convertToFormData","values","data","FormData","key","Array","isArray","forEach","value","append","submit","formData","fetch","method","body","then","res","json","post","console","log","catch","err","render","image","title","bind","setFieldValue","event","currentTarget","files"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button } from 'react-bootstrap';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport postModel from '../models/post.model';\nimport './CreatePost.scss';\nimport { faCloudUploadAlt, faShare } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport TagsInput from 'react-tagsinput';\n\nclass CreatePost extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttags: []\n\t\t};\n\t}\n\n\thandleTagsChange(tags) {\n\t\tthis.setState({\n\t\t\ttags: tags\n\t\t});\n\t}\n\n\tconvertToFormData(values) {\n\t\tconst data = new FormData();\n\t\tfor (let key in values) {\n\t\t\tArray.isArray(values[key])\n\t\t\t\t? values[key].forEach(value => data.append(key + '[]', value))\n\t\t\t\t: data.append(key, values[key]) ;\n\t\t}\n\t\treturn data;\n\t}\n\n\tsubmit(values) {\n\t\tconst formData = this.convertToFormData(values);\n\t\tfetch('./db.json', {\n\t\t\tmethod: 'POST',\n\t\t\tbody: formData\n\t\t})\n\t\t\t.then(res => res.json())\n\t\t\t.then(post => console.log(post))\n\t\t\t.catch(err => console.log(err));\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"CreatePost\">\n\t\t\t\t<h2>Create Post</h2>\n\t\t\t\t<Formik initialValues={{image: '', title: '', tags: []}}\n\t\t\t\t        validationSchema={postModel}\n\t\t\t\t        onSubmit={this.submit.bind(this)}\n\t\t\t\t\t\trender={({setFieldValue}) => {\n\t\t\t\t\t\t\treturn <Form className=\"col-xs-12 col-md-6\">\n\t\t\t\t\t\t\t\t<div className=\"row form-group\">\n\t\t\t\t\t\t\t\t\t<input type=\"file\" name=\"image\" id=\"image\" onChange={(event) => {\n\t\t\t\t\t\t\t\t\t\tsetFieldValue('image', event.currentTarget.files[0]);\n\t\t\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"image\" className=\"upload-button\">\n\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faCloudUploadAlt} />\n\t\t\t\t\t\t\t\t\t\t\tSelect an image\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<div className=\"container-fluid row\">\n\t\t\t\t\t\t\t\t\t\t<ErrorMessage className=\"alert alert-danger mt-2\" name=\"image\" component=\"div\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"row form-group\">\n\t\t\t\t\t\t\t\t\t<label>Title:</label>\n\n\n\t\t\t\t\t\t\t\t\t<Field as=\"textarea\" name=\"title\" className=\"form-control\" />\n\t\t\t\t\t\t\t\t\t<ErrorMessage className=\"alert alert-danger mt-2\" name=\"title\" component=\"div\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"row form-group\">\n\t\t\t\t\t\t\t\t\t<label>Tags:</label>\n\t\t\t\t\t\t\t\t\t<TagsInput value={this.state.tags}\n\t\t\t\t\t\t\t\t\t           onChange={(tags) => {\n\t\t\t\t\t\t\t\t\t               this.handleTagsChange(tags);\n\t\t\t\t\t\t\t\t\t\t           setFieldValue('tags', tags);\n\t\t\t\t\t\t\t\t\t           }}\n\t\t\t\t\t\t\t\t\t           className=\"tags-wrapper\" />\n\t\t\t\t\t\t\t\t\t<ErrorMessage className=\"alert alert-danger mt-2\" name=\"tags\" component=\"div\" />\n\t\t\t\t\t\t\t\t\t<div><sub>Press Enter after inserting a tag</sub></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"row form-group d-flex justify-content-end\">\n\t\t\t\t\t\t\t\t\t<Button type=\"submit\">\n\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faShare} />&nbsp;\n\t\t\t\t\t\t\t\t\t\tShare\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Form>;\n\t\t\t\t\t\t}}>\n\t\t\t\t</Formik>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default CreatePost;"]},"metadata":{},"sourceType":"module"}